import{d as f,p as C,a as $,$ as V,b as B,c as L,a8 as W,a9 as R,A as q,aa as Q}from"./index-f19e9f59.js";import{u as m,v as A,B as c,k as w,w as d,z as u,R as P,O as b,x as X,A as Z,I as h,D as g,l as N,G as D,H as U,J as z}from"./vue-d1dc6859.js";const x=({emit:e,props:n,state:t})=>a=>{a=[].concat(a);const r=n.accordion?a[0]:a;t.activeNames=a,e("update:modelValue",r),e("change",r)},ee=({api:e,props:n,state:t})=>a=>{const r=t.activeNames.slice(0),o=r.indexOf(a==null?void 0:a.name);(()=>{let i=n.beforeClose?n.beforeClose(a,t.activeNames):!0;return new Promise(s=>{i&&i.then?i.then(()=>s(!0)).catch(()=>s(!1)):s(i)})})().then(i=>{n.accordion?(i||!r.length)&&e.setActiveNames(r[0]===(a==null?void 0:a.name)?"":a==null?void 0:a.name):(o>-1?i&&r.splice(o,1):r.push(a==null?void 0:a.name),e.setActiveNames(r))})},K=["state"],Y=(e,{reactive:n,watch:t},{parent:a,emit:r,constants:o})=>{const l=o.EVENT_NAME.CollapseItemClick,i=n({activeNames:[]}),s={state:i,setActiveNames:x({emit:r,props:e,state:i})};return s.handleItemClick=ee({api:s,props:e,state:i}),t(()=>e.modelValue,p=>{i.activeNames=p||p===0?[].concat(p):[]},{immediate:!0,deep:!0}),a.$on(l,s.handleItemClick),s};function te(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=ne(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ne(e,n){if(e){if(typeof e=="string")return S(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}function S(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var ae=function(n,t){for(var a=n.__vccOpts||n,r=te(t),o;!(o=r()).done;){var l=o.value,i=l[0],s=l[1];a[i]=s}return a},re=f({props:[].concat(C,["accordion","modelValue","beforeClose"]),setup:function(n,t){return $({props:n,context:t,renderless:Y,api:K})}}),oe={class:"tiny-collapse",role:"tablist","aria-multiselectable":"true"};function ie(e,n,t,a,r,o){return m(),A("div",oe,[c(e.$slots,"default")])}var T=ae(re,[["render",ie]]);function le(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=se(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(e,n){if(e){if(typeof e=="string")return H(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,n):void 0}}function H(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var de=function(n,t){for(var a=n.__vccOpts||n,r=le(t),o;!(o=r()).done;){var l=o.value,i=l[0],s=l[1];a[i]=s}return a},ce=f({props:[].concat(C,["accordion","modelValue","beforeClose"]),emits:["update:modelValue","change"],setup:function(n,t){return $({props:n,context:t,renderless:Y,api:K})}}),ue={role:"tablist","aria-multiselectable":"true","data-tag":"tiny-collapse"};function pe(e,n,t,a,r,o){return m(),A("div",ue,[c(e.$slots,"default")])}var fe=de(ce,[["render",pe]]);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_.apply(null,arguments)}var ve=function(n){var t,a=typeof process=="object"?(t={})==null?void 0:t.TINY_MODE:null;return(a||n)==="pc"?T:(a||n)==="mobile-first"?fe:T},me={COMPONENT_NAME:{Collapse:"Collapse"},EVENT_NAME:{CollapseItemClick:"collapse-item.click"}},be=_({},V,{_constants:{type:Object,default:function(){return me}},accordion:Boolean,beforeClose:Function,modelValue:{type:[Array,String,Number],default:function(){return[]}}}),v=f({name:B+"Collapse",componentName:"Collapse",props:be,provide:function(){return{collapse:this}},setup:function(n,t){return L({props:n,context:t,template:ve})}}),ye="3.18.0";v.model={prop:"modelValue",event:"update:modelValue"};v.install=function(e){e.component(v.name,v)};v.version=ye;const he=({state:e,interval:n})=>()=>{setTimeout(()=>{e.isClick?e.isClick=!1:e.focusing=!0},n)},ge=({componentName:e,dispatch:n,eventName:t,props:a,parent:r,state:o})=>()=>{a.disabled||(n(e,t,r),o.focusing=!1,o.isClick=!0)},Ce=({api:e})=>n=>{n.target===n.currentTarget&&e.handleHeaderClick()},$e=({componentName:e,dispatch:n,eventName:t,parent:a})=>()=>n(e,t,a),G=["state","isActive","handleFocus","handleEnterClick","handleHeaderClick","handleHeaderContainerClick"],J=(e,{computed:n,reactive:t},{parent:a,constants:r,dispatch:o,designConfig:l})=>{var i;const s=a.collapse._constants,p=s.COMPONENT_NAME.Collapse,E=s.EVENT_NAME.CollapseItemClick,k=t({id:W(),isClick:!1,focusing:!1,contentHeight:0,contentWrapStyle:{height:"auto",display:"block"},isActive:n(()=>a.collapse.state.activeNames.includes(e.name)),arrowIcon:e.expandIcon||((i=l==null?void 0:l.icons)==null?void 0:i.arrowIcon)||"IconChevronRight"}),I={state:k,handleFocus:he({state:k,interval:r.INTERVAL}),handleEnterClick:$e({componentName:p,dispatch:o,eventName:E,parent:a}),handleHeaderClick:ge({componentName:p,dispatch:o,eventName:E,props:e,parent:a,state:k})};return Object.assign(I,{handleHeaderContainerClick:Ce({api:I})}),I};function Ae(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=ke(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ke(e,n){if(e){if(typeof e=="string")return j(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}function j(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var Ie=function(n,t){for(var a=n.__vccOpts||n,r=Ae(t),o;!(o=r()).done;){var l=o.value,i=l[0],s=l[1];a[i]=s}return a},we=f({props:[].concat(C,["title","titleRight","name","disabled","expandIcon"]),components:{CollapseTransition:R,IconChevronRight:q()},setup:function(n,t){return $({props:n,context:t,renderless:J,api:G})}}),Ne=["aria-expanded","aria-controls","aria-describedby"],_e=["id","tabindex"],Oe={class:"tiny-collapse-item__title__right"},Ee=["aria-hidden","aria-labelledby","id"],Se={class:"tiny-collapse-item__content"};function Te(e,n,t,a,r,o){var l=w("collapse-transition");return m(),A("div",{class:u(["tiny-collapse-item",{"is-active":e.state.isActive,"is-disabled":e.disabled}])},[d("div",{role:"tab","aria-expanded":e.state.isActive,"aria-controls":"tiny-collapse-content-"+e.state.id,"aria-describedby":"tiny-collapse-content-"+e.state.id},[d("div",{class:u(["tiny-collapse-item__header",{focusing:e.state.focusing,"is-active":e.state.isActive}]),role:"button",id:"tiny-collapse-head-"+e.state.id,tabindex:e.disabled?void 0:0,onKeyup:n[2]||(n[2]=P(b(function(){return e.handleEnterClick&&e.handleEnterClick.apply(e,arguments)},["stop"]),["space","enter"])),onFocus:n[3]||(n[3]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:n[4]||(n[4]=function(i){return e.state.focusing=!1}),onClick:n[5]||(n[5]=function(){return e.handleHeaderContainerClick&&e.handleHeaderContainerClick.apply(e,arguments)})},[d("div",{class:u(["tiny-collapse-item__arrow",{"is-active":e.state.isActive}]),onClick:n[0]||(n[0]=b(function(){return e.handleHeaderClick&&e.handleHeaderClick.apply(e,arguments)},["stop"]))},[c(e.$slots,"icon",{},function(){return[(m(),X(Z(e.state.arrowIcon),{class:u(["tiny-collapse-item__arrow-icon tiny-svg-size",{"is-active":e.state.isActive}])},null,8,["class"]))]})],2),d("div",{class:"tiny-collapse-item__word-overflow",onClick:n[1]||(n[1]=b(function(){return e.handleHeaderClick&&e.handleHeaderClick.apply(e,arguments)},["stop"]))},[c(e.$slots,"title",{},function(){return[h(g(e.title),1)]})]),d("div",Oe,[c(e.$slots,"title-right",{},function(){return[h(g(e.titleRight),1)]})])],42,_e),N(l,null,{default:D(function(){return[U(d("div",{class:"tiny-collapse-item__wrap",role:"tabpanel","aria-hidden":!e.state.isActive,"aria-labelledby":"tiny-collapse-head-"+e.state.id,id:"tiny-collapse-content-"+e.state.id},[d("div",Se,[c(e.$slots,"default")])],8,Ee),[[z,e.state.isActive]])]}),_:3})],8,Ne)],2)}var F=Ie(we,[["render",Te]]);function He(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=je(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function je(e,n){if(e){if(typeof e=="string")return M(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M(e,n):void 0}}function M(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var Fe=function(n,t){for(var a=n.__vccOpts||n,r=He(t),o;!(o=r()).done;){var l=o.value,i=l[0],s=l[1];a[i]=s}return a},Me=f({props:[].concat(C,["title","titleRight","name","disabled"]),components:{CollapseTransition:R,IconArrowBottom:Q()},setup:function(n,t){return $({props:n,context:t,renderless:J,api:G})}}),Ve={"data-tag":"tiny-collapse-item",class:"border-b-0.5 sm:border-b border-solid border-color-border-separator last:border-0"},Be=["aria-expanded","aria-controls","aria-describedby"],Le=["id","tabindex"],Re={"data-tag":"tiny-collapse-item-titleright",class:"text-xs font-normal"},Pe=["aria-hidden","aria-labelledby","id"],De={class:"pb-6 pt-0 px-4 sm:pt-0 sm:pr-0 sm:pl-4 sm:pb-4 text-xs text-color-text-primary leading-relaxed"};function Ue(e,n,t,a,r,o){var l=w("icon-arrow-bottom"),i=w("collapse-transition");return m(),A("div",Ve,[d("div",{role:"tab","data-tag":"tiny-collapse-item-tab","aria-expanded":e.state.isActive,"aria-controls":"tiny-collapse-content-"+e.state.id,"aria-describedby":"tiny-collapse-content-"+e.state.id},[d("div",{"data-tag":"tiny-collapse-item-body",class:u(["flex relative items-center h-12 sm:h-10 py-0 sm:pr-0 pl-4 pr-10 text-sm font-bold justify-between whitespace-nowrap",e.disabled?"text-color-text-disabled":"text-color-text-primary sm:[&:has(.peer:hover)_[role=title]]:text-color-brand"]),id:"tiny-collapse-head-"+e.state.id,tabindex:e.disabled?void 0:0,onKeyup:n[2]||(n[2]=P(b(function(){return e.handleEnterClick&&e.handleEnterClick.apply(e,arguments)},["stop"]),["space","enter"])),onFocus:n[3]||(n[3]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:n[4]||(n[4]=function(s){return e.state.focusing=!1})},[d("div",{"data-tag":"tiny-collapse-item-title",class:u(["whitespace-nowrap overflow-hidden overflow-ellipsis inline-block peer",[e.disabled?"cursor-not-allowed":"cursor-pointer sm:hover:text-color-brand"]]),role:"title",onClick:n[0]||(n[0]=function(){return e.handleHeaderClick&&e.handleHeaderClick.apply(e,arguments)})},[c(e.$slots,"title",{},function(){return[h(g(e.title),1)]})],2),d("div",Re,[c(e.$slots,"title-right",{},function(){return[h(g(e.titleRight),1)]})]),d("div",{"data-tag":"tiny-collapse-item-icon",class:u(["absolute sm:left-0 right-3.5 text-xs mr-1 w-3 peer",[e.disabled?"fill-color-text-disabled  cursor-not-allowed":"fill-color-icon-secondary cursor-pointer sm:peer-hover:fill-color-brand sm:hover:fill-color-brand"]]),onClick:n[1]||(n[1]=function(){return e.handleHeaderClick&&e.handleHeaderClick.apply(e,arguments)})},[c(e.$slots,"icon",{active:e.state.isActive,disabled:e.disabled},function(){return[N(l,{"custom-class":"w-2.5 h-2.5 sm:w-3 sm:h-3 transition-transform duration-300",class:u([e.state.isActive?"sm:rotate-0 rotate-180":"sm:-rotate-90 rotate-0"])},null,8,["class"])]})],2)],42,Le)],8,Be),N(i,null,{default:D(function(){return[U(d("div",{"data-tag":"tiny-collapse-item-active",class:"will-change-[height] bg-color-bg-1 overflow-hidden box-border",role:"tabpanel","aria-hidden":!e.state.isActive,"aria-labelledby":"tiny-collapse-head-"+e.state.id,id:"tiny-collapse-content-"+e.state.id},[d("div",De,[c(e.$slots,"default")])],8,Pe),[[z,e.state.isActive]])]}),_:3})])}var ze=Fe(Me,[["render",Ue]]);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},O.apply(null,arguments)}var Ke=function(n){var t,a=typeof process=="object"?(t={})==null?void 0:t.TINY_MODE:null;return(a||n)==="pc"?F:(a||n)==="mobile-first"?ze:F},Ye={INTERVAL:50},Ge=O({},V,{_constants:{type:Object,default:function(){return Ye}},title:String,titleRight:String,name:{type:[String,Number],default:function(){return this._uid}},expandIcon:{type:[Object,String]},disabled:Boolean}),y=f({name:B+"CollapseItem",componentName:"CollapseItem",inject:["collapse"],props:Ge,setup:function(n,t){return L({props:n,context:t,template:Ke})}}),Je="3.18.0";y.install=function(e){e.component(y.name,y)};y.version=Je;export{y as C,v as a};
